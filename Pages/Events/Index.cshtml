@page
@model Final.Pages.Events.IndexModel
@{
    ViewData["Title"] = "Etkinlikler";
}

<!-- Kapak ve Slogan -->
<div class="text-center" style="background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%); padding: 40px 0 30px 0; border-radius: 12px; margin-bottom: 30px;">
    <img src="~/logo.png" alt="UniBazaar Lite Logo" style="width:90px; height:auto; margin-bottom: 10px;" />
    <h1 class="display-5 mb-2">Kampüs Etkinlikleri</h1>
    <p style="font-size:1.1rem; color:#555; max-width: 500px; margin: 0 auto;">
        "Birlikte daha renkli bir kampüs hayatı!"<br />
        Katıl, keşfet, paylaş!
    </p>
</div>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success text-center">@TempData["Success"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger text-center">@TempData["Error"]</div>
}

<!-- Etkinlik Kartları -->
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
@foreach (var ev in Model.Events)
{
    <div class="col">
        <div class="card h-100 shadow-sm">
            <img src="~/img/event-cover.jpg" class="card-img-top" alt="Etkinlik Kapak" style="height:170px; object-fit:cover;">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">@ev.Title</h5>
                <p class="card-text">@ev.Description</p>
                <ul class="list-unstyled mb-3">
                    <li><strong>Tarih:</strong> @ev.Date.ToString("dd MMMM yyyy HH:mm")</li>
                    <li><strong>Lokasyon:</strong> @ev.Location</li>
                    <li><strong>Kontenjan:</strong> @ev.Capacity</li>
                </ul>
                <div class="mt-auto d-flex justify-content-between align-items-center">
                    <a asp-page="Register" asp-route-id="@ev.Id" class="btn btn-primary">Kayıt Ol</a>

                    @if (ev.CreatedBy == User.Identity?.Name)
                    {
                        <a asp-page="Edit" asp-route-id="@ev.Id" class="btn btn-warning">Düzenle</a>
                    }
                </div>
            </div>
        </div>
    </div>
}
</div>

<div class="text-center mt-4">
    <a asp-page="Create" class="btn btn-success btn-lg">
        <i class="bi bi-plus-circle"></i> Yeni Etkinlik Oluştur
    </a>
</div>
